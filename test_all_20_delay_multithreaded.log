MODULE=test.test_all \
TOPLEVEL=gpu \
VERILOG_SOURCES="src/pc.sv src/alu.sv src/cache_utils.svh src/dcr.sv src/arbiter_cache.sv src/utils.svh src/enums.svh src/warp_controller.sv src/decoder.sv src/dispatch.sv src/ducttape2cores.sv src/fetcher.sv src/gpu.sv src/lsu.sv src/registers.sv src/scheduler.sv"  \
SIM=verilator \
EXTRA_ARGS="--cc --exe --build --trace -Isrc -Wno-WIDTHEXPAND -Wno-ASCRANGE -Wno-WIDTHTRUNC -Wno-CASEINCOMPLETE -Wno-UNSIGNED  -Wno-MULTIDRIVEN --compiler gcc -O3 -CFLAGS "-O3"" \
make -f /usr/lib/python3.13/site-packages/cocotb/share/makefiles/Makefile.sim
make[1]: Entering directory '/mnt/newhome/tiny-gpu'
rm -f results.xml
"make" -f /usr/lib/python3.13/site-packages/cocotb/share/makefiles/Makefile.sim results.xml
make[2]: Entering directory '/mnt/newhome/tiny-gpu'
/usr/bin/verilator -cc --exe -Mdir sim_build -DCOCOTB_SIM=1 --top-module gpu --timescale 1ns/1ps --vpi --public-flat-rw --prefix Vtop -o Vtop -LDFLAGS "-Wl,-rpath,/usr/lib/python3.13/site-packages/cocotb/libs -L/usr/lib/python3.13/site-packages/cocotb/libs -lcocotbvpi_verilator" --cc --exe --build --trace -Isrc -Wno-WIDTHEXPAND -Wno-ASCRANGE -Wno-WIDTHTRUNC -Wno-CASEINCOMPLETE -Wno-UNSIGNED  -Wno-MULTIDRIVEN --compiler gcc -O3 -CFLAGS -O3 src/pc.sv src/alu.sv src/cache_utils.svh src/dcr.sv src/arbiter_cache.sv src/utils.svh src/enums.svh src/warp_controller.sv src/decoder.sv src/dispatch.sv src/ducttape2cores.sv src/fetcher.sv src/gpu.sv src/lsu.sv src/registers.sv src/scheduler.sv /usr/lib/python3.13/site-packages/cocotb/share/lib/verilator/verilator.cpp
make[3]: Entering directory '/mnt/newhome/tiny-gpu/sim_build'
g++  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -Os  -c -o verilator.o /usr/lib/python3.13/site-packages/cocotb/share/lib/verilator/verilator.cpp
g++ -Os  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -c -o verilated.o /usr/share/verilator/include/verilated.cpp
g++ -Os  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -c -o verilated_dpi.o /usr/share/verilator/include/verilated_dpi.cpp
g++ -Os  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -c -o verilated_vpi.o /usr/share/verilator/include/verilated_vpi.cpp
g++ -Os  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -c -o verilated_vcd_c.o /usr/share/verilator/include/verilated_vcd_c.cpp
g++ -Os  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -c -o verilated_threads.o /usr/share/verilator/include/verilated_threads.cpp
g++ -Os  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -x c++-header Vtop__pch.h -o Vtop__pch.h.fast.gch
g++ -Os  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.fast -c -o Vtop.o Vtop.cpp
g++ -Os  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.fast -c -o Vtop___024root__DepSet_h84412442__0.o Vtop___024root__DepSet_h84412442__0.cpp
g++ -Os  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.fast -c -o Vtop___024root__DepSet_heccd7ead__0.o Vtop___024root__DepSet_heccd7ead__0.cpp
g++ -Os  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.fast -c -o Vtop___024root__DepSet_heccd7ead__1.o Vtop___024root__DepSet_heccd7ead__1.cpp
g++ -Os  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.fast -c -o Vtop_MemChannelIF__A8_D10__DepSet_h0a6afb43__0.o Vtop_MemChannelIF__A8_D10__DepSet_h0a6afb43__0.cpp
g++ -Os  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.fast -c -o Vtop__Dpi.o Vtop__Dpi.cpp
g++ -Os  -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.fast -c -o Vtop__Trace__0.o Vtop__Trace__0.cpp
g++   -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -x c++-header Vtop__pch.h -o Vtop__pch.h.slow.gch
g++   -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.slow -c -o Vtop___024root__Slow.o Vtop___024root__Slow.cpp
g++   -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.slow -c -o Vtop___024root__DepSet_h84412442__0__Slow.o Vtop___024root__DepSet_h84412442__0__Slow.cpp
g++   -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.slow -c -o Vtop___024root__DepSet_heccd7ead__0__Slow.o Vtop___024root__DepSet_heccd7ead__0__Slow.cpp
g++   -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.slow -c -o Vtop___024unit__Slow.o Vtop___024unit__Slow.cpp
g++   -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.slow -c -o Vtop___024unit__DepSet_hff17caec__0__Slow.o Vtop___024unit__DepSet_hff17caec__0__Slow.cpp
g++   -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.slow -c -o Vtop_MemChannelIF__A8_D10__Slow.o Vtop_MemChannelIF__A8_D10__Slow.cpp
g++   -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.slow -c -o Vtop_MemChannelIF__A8_D10__DepSet_h0a6afb43__0__Slow.o Vtop_MemChannelIF__A8_D10__DepSet_h0a6afb43__0__Slow.cpp
g++   -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.slow -c -o Vtop__Syms.o Vtop__Syms.cpp
g++   -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.slow -c -o Vtop__Trace__0__Slow.o Vtop__Trace__0__Slow.cpp
g++   -I.  -MMD -I/usr/share/verilator/include -I/usr/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TIMING=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-shadow -Wno-sign-compare -Wno-subobject-linkage -Wno-tautological-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable    -O3   -include Vtop__pch.h.slow -c -o Vtop__TraceDecls__0__Slow.o Vtop__TraceDecls__0__Slow.cpp
echo "" > Vtop__ALL.verilator_deplist.tmp
g++    verilator.o verilated.o verilated_dpi.o verilated_vpi.o verilated_vcd_c.o verilated_threads.o Vtop__ALL.a   -Wl,-rpath,/usr/lib/python3.13/site-packages/cocotb/libs -L/usr/lib/python3.13/site-packages/cocotb/libs -lcocotbvpi_verilator  -pthread -lpthread -latomic   -o Vtop
rm Vtop__ALL.verilator_deplist.tmp
make[3]: Leaving directory '/mnt/newhome/tiny-gpu/sim_build'
- V e r i l a t i o n   R e p o r t: Verilator 5.034 2025-02-24 rev v5.034
- Verilator: Built from 0.868 MB sources in 16 modules, into 2.970 MB in 17 C++ files needing 0.002 MB
- Verilator: Walltime 37.126 s (elab=0.024, cvt=0.211, bld=36.838); cpu 0.280 s on 1 threads; alloced 25.137 MB
make -C sim_build  -f Vtop.mk
make[3]: Entering directory '/mnt/newhome/tiny-gpu/sim_build'
make[3]: Nothing to be done for 'default'.
make[3]: Leaving directory '/mnt/newhome/tiny-gpu/sim_build'
rm -f results.xml
MODULE=test.test_all TESTCASE= TOPLEVEL=gpu TOPLEVEL_LANG=verilog \
         sim_build/Vtop  --cc --exe --build --trace -Isrc -Wno-WIDTHEXPAND -Wno-ASCRANGE -Wno-WIDTHTRUNC -Wno-CASEINCOMPLETE -Wno-UNSIGNED  -Wno-MULTIDRIVEN --compiler gcc -O3 -CFLAGS -O3  
     -.--ns INFO     gpi                                ..mbed/gpi_embed.cpp:79   in set_program_name_in_venv        Did not detect Python virtual environment. Using system-wide Python interpreter
     -.--ns INFO     gpi                                ../gpi/GpiCommon.cpp:101  in gpi_print_registered_impl       VPI registered
     0.00ns INFO     cocotb                             Running on Verilator version 5.034 2025-02-24
     0.00ns INFO     cocotb                             Running tests with cocotb v1.9.2 from /usr/lib/python3.13/site-packages/cocotb
     0.00ns INFO     cocotb                             Seeding Python random module with 1748435249
pygame 2.6.1 (SDL 2.32.56, Python 3.13.3)
Hello from the pygame community. https://www.pygame.org/contribute.html
     0.00ns INFO     cocotb.regression                  Found test test.test_negatives.test_negatives
     0.00ns INFO     cocotb.regression                  Found test test.test_matadd.test_matadd_8_threads
     0.00ns INFO     cocotb.regression                  Found test test.test_matadd.test_matadd_32_threads
     0.00ns INFO     cocotb.regression                  Found test test.test_matmul.test_matmul_2x2
     0.00ns INFO     cocotb.regression                  Found test test.test_matmul.test_matmul_4x4
     0.00ns INFO     cocotb.regression                  Found test test.test_load.test_load
     0.00ns INFO     cocotb.regression                  Found test test.test_alldmem.test_alldmem_basic
     0.00ns INFO     cocotb.regression                  Found test test.test_alldmem.test_alldmem_unrolled
     0.00ns INFO     cocotb.regression                  Found test test.test_alldmem.test_alldmem_64
     0.00ns INFO     cocotb.regression                  Found test test.test_alldmem.test_alldmem_hash
     0.00ns INFO     cocotb.regression                  running test_negatives (1/10)
using json initial data
PROGRAM IS
36869
37123
37376
16673
32801
61440
DATA IS
0
0
0
0
Running test: test_negatives
threads is 4
finished at cycle 314
8275000.00ns INFO     cocotb.regression                  test_negatives passed
8275000.00ns INFO     cocotb.regression                  running test_matadd_8_threads (2/10)
using json initial data
PROGRAM IS
20702
12303
37120
37384
37648
13328
29760
13600
30032
13893
14128
32886
61440
DATA IS
41
42
43
44
45
46
47
48
51
52
53
54
55
56
57
58
Running test: test_matadd_8_threads
threads is 8
finished at cycle 925
31850000.00ns INFO     cocotb.regression                  test_matadd_8_threads passed
31850000.00ns INFO     cocotb.regression                  running test_matadd_32_threads (3/10)
using json initial data
PROGRAM IS
0
20702
12303
37120
37408
37696
13328
29760
13600
30032
13893
14128
32886
61440
DATA IS
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
Running test: test_matadd_32_threads
threads is 32
finished at cycle 2738
100750000.00ns INFO     cocotb.regression                  test_matadd_32_threads passed
100750000.00ns INFO     cocotb.regression                  running test_matmul_2x2 (4/10)
using json initial data
PROGRAM IS
20702
12303
37121
37378
37632
37892
38152
26114
22370
18183
38912
39168
23138
15017
15011
31392
23442
15287
15284
31664
23723
14476
14737
8338
6156
14672
32920
61440
DATA IS
1
2
3
4
1
2
3
4
Running test: test_matmul_2x2
threads is 4
finished at cycle 1406
[1, 2, 3, 4, 1, 2, 3, 4]
printing
[1, 2, 3, 4]
[1, 2, 3, 4]
0 0
0 1
1 0
1 1
printing2
[7, 10, 15, 22]
136350000.00ns INFO     cocotb.regression                  test_matmul_2x2 passed
136350000.00ns INFO     cocotb.regression                  running test_matmul_4x4 (5/10)
using json initial data
PROGRAM IS
0
20702
12303
37121
37380
37632
37904
38176
26114
22370
18183
38912
39168
23138
15017
15011
31392
23442
15287
15284
31664
23723
14476
14737
8338
6157
14672
32920
61440
DATA IS
1
2
3
4
5
6
2
3
1
2
1
4
5
6
1
3
1
2
3
4
1
6
7
2
1
2
3
4
5
6
7
3
Running test: test_matmul_4x4
threads is 16
finished at cycle 4378
[1, 2, 3, 4, 5, 6, 2, 3, 1, 2, 1, 4, 5, 6, 1, 3, 1, 2, 3, 4, 1, 6, 7, 2, 1, 2, 3, 4, 5, 6, 7, 3]
printing
[1, 2, 3, 4, 5, 6, 2, 3, 1, 2, 1, 4, 5, 6, 1, 3]
[1, 2, 3, 4, 1, 6, 7, 2, 1, 2, 3, 4, 5, 6, 7, 3]
0 0
0 1
0 2
0 3
1 0
1 1
1 2
1 3
2 0
2 1
2 2
2 3
3 0
3 1
3 2
3 3
printing2
[26, 44, 54, 32, 28, 68, 84, 49, 24, 40, 48, 24, 27, 66, 81, 45]
246250000.00ns INFO     cocotb.regression                  test_matmul_4x4 passed
246250000.00ns INFO     cocotb.regression                  running test_load (6/10)
using json initial data
PROGRAM IS
22238
13935
37380
38656
30816
14472
37124
13921
32872
0
0
39937
14204
8306
6148
61440
DATA IS
1
2
3
4
Running test: test_load
threads is 4
finished at cycle 1678
288650000.01ns INFO     cocotb.regression                  test_load passed
288650000.01ns INFO     cocotb.regression                  running test_alldmem_basic (7/10)
using 0 initial data
PROGRAM IS
20702
12303
39167
37121
20481
38152
37889
38664
38404
37376
39424
32768
12293
15012
8358
6155
12836
8231
6154
61440
DATA IS
0
Running test: test_alldmem
threads is 8
finished at cycle 1399
324075000.01ns INFO     cocotb.regression                  test_alldmem_basic failed
                                                           Traceback (most recent call last):
                                                             File "/mnt/newhome/tiny-gpu/test/test_alldmem.py", line 7, in test_alldmem_basic
                                                               await test_dmem(
                                                                   dut, "/home/thebu/newhome/tiny-gpu/tiny-gpu-assembler/asm_build/test_alldmem.json")
                                                             File "/mnt/newhome/tiny-gpu/test/test_alldmem.py", line 70, in test_dmem
                                                               assert i == byte, f"Result mismatch: expected {i}, got {byte}"
                                                           AssertionError: Result mismatch: expected 32, got 0
                                                           assert 32 == 0
324075000.01ns INFO     cocotb.regression                  running test_alldmem_unrolled (8/10)
using 0 initial data
PROGRAM IS
37128
20702
12303
20481
37376
37121
12833
32768
12289
32768
12289
32768
12289
32768
12289
32768
12289
32768
12289
32768
12289
32768
12289
37176
12289
37124
8225
6149
61440
DATA IS
0
Running test: test_alldmem_unrolled
threads is 8
finished at cycle 6841
495550000.01ns INFO     cocotb.regression                  test_alldmem_unrolled passed
495550000.01ns INFO     cocotb.regression                  running test_alldmem_64 (9/10)
using 0 initial data
PROGRAM IS
0
20702
12303
39167
37124
20481
37376
39424
37121
32768
12289
32768
12289
32768
12289
32768
12289
37121
15009
37121
8353
6152
37121
12833
37184
12289
37121
8225
6151
61440
DATA IS
0
Running test: test_alldmem_64
threads is 64
finished at cycle 9466
732650000.01ns INFO     cocotb.regression                  test_alldmem_64 passed
732650000.01ns INFO     cocotb.regression                  running test_alldmem_hash (10/10)
using 0 initial data
PROGRAM IS
20702
12303
39167
37121
20481
38152
37889
38664
38404
37376
39424
37120
13057
21299
37128
13105
21299
13104
32771
12293
15012
8358
6155
12836
8231
6154
61440
DATA IS
0
Running test: test_alldmem_hash
threads is 8
finished at cycle 8681
950125000.01ns INFO     cocotb.regression                  test_alldmem_hash passed
950125000.01ns INFO     cocotb.regression                  *************************************************************************************************
                                                           ** TEST                                     STATUS  SIM TIME (ns)  REAL TIME (s)  RATIO (ns/s) **
                                                           *************************************************************************************************
                                                           ** test.test_negatives.test_negatives        PASS     8275000.00           0.08   106550824.60  **
                                                           ** test.test_matadd.test_matadd_8_threads    PASS    23575000.00           0.60   39178523.61  **
                                                           ** test.test_matadd.test_matadd_32_threads   PASS    68900000.00           0.80   86006380.70  **
                                                           ** test.test_matmul.test_matmul_2x2          PASS    35600000.00           0.38   93467613.05  **
                                                           ** test.test_matmul.test_matmul_4x4          PASS   109900000.00           1.07   102973922.12  **
                                                           ** test.test_load.test_load                  PASS    42400000.00           0.40   105901693.29  **
                                                           ** test.test_alldmem.test_alldmem_basic      FAIL    35425000.00           0.51   68957249.20  **
                                                           ** test.test_alldmem.test_alldmem_unrolled   PASS   171475000.00           2.72   63016422.62  **
                                                           ** test.test_alldmem.test_alldmem_64         PASS   237100000.00           3.34   71023773.48  **
                                                           ** test.test_alldmem.test_alldmem_hash       PASS   217475000.00           3.13   69509382.30  **
                                                           *************************************************************************************************
                                                           ** TESTS=10 PASS=9 FAIL=1 SKIP=0                    950125000.01          14.00   67862567.37  **
                                                           *************************************************************************************************
                                                           
- :0: Verilog $finish
make[2]: Leaving directory '/mnt/newhome/tiny-gpu'
make[1]: Leaving directory '/mnt/newhome/tiny-gpu'
